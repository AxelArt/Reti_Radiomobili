<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QCM Quiz</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .unit { margin-bottom: 20px; }
        .unit button { padding: 10px 20px; font-size: 16px; margin-right: 10px; }
        .question { margin-bottom: 20px; }
        .options { margin-left: 20px; }
        .submit-btn { margin-top: 20px; padding: 10px 20px; font-size: 16px; }
        .hidden { display: none; }
        .correct { color: green; }
        .incorrect { color: red; }
        .score { font-size: 20px; font-weight: bold; margin-top: 20px; }
    </style>
</head>
<body>
    <h1>QCM Quiz</h1>
    <p>Choose a unit to start the test:</p>
    <div class="unit">
        <button onclick="loadUnit(1)">Slide 3</button>
        <button onclick="loadUnit(2)">Slide 4</button>
        <button onclick="loadUnit(3)">Slide 5</button>
        <button onclick="loadUnit(4)">Slide 6</button>
        <button onclick="loadFinalUnit()">Final Unit (Random Questions)</button>
    </div>

    <div id="quiz-container" class="hidden">
        <form id="quiz-form"></form>
        <button type="button" class="submit-btn" onclick="checkAnswers()">Submit Answers</button>
        <div id="score-display" class="score hidden"></div>
    </div>

    <script>
        // Define questions for each unit
        const questions = {
            unit1: [
                {
                    question: "1. Nella modulazione ASK, il parametro variabile per trasmettere le informazioni è:",
                    options: ["Fase", "Frequenza", "Ampiezza", "Periodo"],
                    answer: "Ampiezza"
                },
                {
                    question: "2. La modulazione FSK è caratterizzata da:",
                    options: ["Variazioni di ampiezza", "Variazioni di fase", "Variazioni di frequenza", "Variazioni di potenza"],
                    answer: "Variazioni di frequenza"
                },
                {
                    question: "3. In una modulazione PSK a 4 livelli (QPSK), quanti bit sono rappresentati da ciascun simbolo?",
                    options: ["1", "2", "4", "8"],
                    answer: "2"
                },
                {
                    question: "4. Quale modulazione richiede una larghezza di banda maggiore?",
                    options: ["ASK", "FSK", "BPSK", "Tutte richiedono la stessa larghezza di banda"],
                    answer: "FSK"
                },
                {
                    question: "5. La modulazione QAM combina variazioni di:",
                    options: ["Fase e ampiezza", "Ampiezza e frequenza", "Fase e frequenza", "Potenza e ampiezza"],
                    answer: "Fase e ampiezza"
                },
                {
                    question: "6. Quale delle seguenti modulazioni è più sensibile al rumore?",
                    options: ["ASK", "FSK", "PSK", "QAM"],
                    answer: "ASK"
                },
                {
                    question: "7. Quale modulazione permette di trasmettere più dati per simbolo aumentando il numero di livelli?",
                    options: ["ASK", "FSK", "PSK", "M-ary QAM"],
                    answer: "M-ary QAM"
                },
                {
                    question: "8. La modulazione PSK a più livelli (M-ary PSK) rappresenta ogni simbolo con:",
                    options: ["Una diversa fase", "Una diversa frequenza", "Una diversa fase", "Una combinazione di ampiezza e fase"],
                    answer: "Una diversa fase"
                },
                {
                    question: "9. Quale tra queste modulazioni presenta una maggiore efficienza spettrale in presenza di rumore?",
                    options: ["FSK ortogonale", "ASK binaria", "PSK", "OOK"],
                    answer: "PSK"
                },
                {
                    question: "10. In una modulazione FSK, l'informazione è contenuta principalmente:",
                    options: ["Nella fase della portante", "Nell'ampiezza della portante", "Nella frequenza della portante", "Nel periodo del segnale"],
                    answer: "Nella frequenza della portante"
                },
                {
                    question: "11. In QPSK, quanti simboli diversi sono rappresentati sulla costellazione?",
                    options: ["2", "4", "8", "16"],
                    answer: "4"
                },
                {
                    question: "12. Quale delle seguenti modulazioni richiede un'ampiezza costante e si basa solo su variazioni di frequenza?",
                    options: ["ASK", "FSK", "QAM", "BPSK"],
                    answer: "FSK"
                },
                {
                    question: "13. In una modulazione PSK, l'informazione digitale è codificata attraverso variazioni di:",
                    options: ["Ampiezza", "Frequenza", "Fase", "Potenza"],
                    answer: "Fase"
                },
                {
                    question: "14. Quale delle seguenti modulazioni digitali varia sia la fase che l'ampiezza per codificare i dati?",
                    options: ["PSK", "ASK", "FSK", "QAM"],
                    answer: "QAM"
                },
                {
                    question: "15. La modulazione QPSK utilizza quanti angoli di fase per rappresentare i simboli?",
                    options: ["2", "4", "8", "16"],
                    answer: "4"
                },
                {
                    question: "16. In una modulazione FSK binaria, come vengono rappresentati i bit '1' e '0'?",
                    options: ["Con due frequenze diverse", "Con due fasi diverse", "Con due ampiezze diverse", "Con variazioni di potenza"],
                    answer: "Con due frequenze diverse"
                }
            ],
            unit2: [
                {
                    question: "1. Qual è il principale obiettivo del criterio MAP (Maximum a Posteriori) nella teoria della decisione?",
                    options: ["Massimizzare la potenza del segnale", "Massimizzare la probabilità a priori", "Minimizzare la probabilità di errore", "Minimizzare l’ampiezza di banda"],
                    answer: "Minimizzare la probabilità di errore"
                },
                {
                    question: "2. Nella formula della probabilità a posteriori, cosa rappresenta Pr(Si)?",
                    options: ["La probabilità di errore", "La probabilità a priori di trasmettere il simbolo Si", "La probabilità di ricevere il simbolo corretto", "La potenza del segnale"],
                    answer: "La probabilità a priori di trasmettere il simbolo Si"
                },
                {
                    question: "3. Cosa rappresenta Pr(r(t) | Si) nella formula della teoria della decisione?",
                    options: ["La probabilità di errore", "La probabilità di rumore del canale", "La probabilità condizionata di ricevere r(t) dato che è stato trasmesso Si", "L’efficienza spettrale del canale"],
                    answer: "La probabilità condizionata di ricevere r(t) dato che è stato trasmesso Si"
                },
                {
                    question: "4. Il criterio MAP è utile per minimizzare gli errori di decisione in presenza di:",
                    options: ["Ampiezze diverse", "Interferenze e rumore", "Larghezza di banda elevata", "Segnali a fase variabile"],
                    answer: "Interferenze e rumore"
                },
                {
                    question: "5. Quale sistema di modulazione è più sensibile al rumore, richiedendo un criterio di decisione accurato come MAP?",
                    options: ["ASK", "PSK", "FSK", "Tutti i precedenti"],
                    answer: "PSK"
                },
                {
                    question: "6. La formula della probabilità a posteriori si basa su quale principio statistico?",
                    options: ["Teorema di Shannon", "Teorema di Bayes", "Trasformata di Fourier", "Criterio di Nyquist"],
                    answer: "Teorema di Bayes"
                },
                {
                    question: "7. In un sistema di rilevazione binaria ottimale, il simbolo scelto è quello con:",
                    options: ["La probabilità più bassa di errore", "Il valore di ampiezza maggiore", "La probabilità a posteriori più alta", "La frequenza più alta"],
                    answer: "La probabilità a posteriori più alta"
                },
                {
                    question: "8. Il criterio MAP tiene conto della probabilità a priori perché:",
                    options: ["Aumenta la potenza del segnale", "Riduce l’interferenza di rumore", "Aumenta la probabilità di decisione corretta", "Massimizza l’ampiezza di banda"],
                    answer: "Aumenta la probabilità di decisione corretta"
                },
                {
                    question: "9. Nella teoria della decisione, qual è l’effetto del rumore bianco gaussiano sul segnale ricevuto?",
                    options: ["Aumenta la potenza del segnale", "Disturba il segnale, rendendo meno certa la decisione", "Riduce l’efficienza spettrale", "Aumenta la larghezza di banda"],
                    answer: "Disturba il segnale, rendendo meno certa la decisione"
                },
                {
                    question: "10. Quale delle seguenti modulazioni beneficia maggiormente del criterio MAP in canali rumorosi?",
                    options: ["ASK", "OOK", "QAM", "Tutte le precedenti"],
                    answer: "QAM"
                }
            ],
            unit3: [
                {
                    question: "1. Qual è uno dei principali vantaggi della modulazione PSK nei canali wireless?",
                    options: ["Alto consumo di potenza", "Complessità di decodifica", "Inviluppo costante", "Efficienza spettrale bassa"],
                    answer: "Inviluppo costante"
                },
                {
                    question: "2. Quale problema è causato da transizioni di fase di ±π in QPSK?",
                    options: ["Perdita di segnale", "Aumento della banda", "Non linearità negli amplificatori", "Incremento della potenza"],
                    answer: "Non linearità negli amplificatori"
                },
                {
                    question: "3. Quale caratteristica rende OQPSK più adatto rispetto a QPSK per amplificatori non lineari?",
                    options: ["Maggiore efficienza spettrale", "Riduzione delle transizioni di fase di ±π", "Aumento della potenza del segnale", "Complessità ridotta del segnale"],
                    answer: "Riduzione delle transizioni di fase di ±π"
                },
                {
                    question: "4. In OQPSK, cosa succede alla componente Q rispetto alla componente I?",
                    options: ["Viene amplificata", "È ritardata", "È sincronizzata", "Viene eliminata"],
                    answer: "È ritardata"
                },
                {
                    question: "5. Qual è lo scopo principale di π/4 QPSK?",
                    options: ["Ridurre l’ampiezza di banda", "Aumentare la frequenza portante", "Mantenere inviluppo costante e transizioni ridotte", "Diminuire la potenza di trasmissione"],
                    answer: "Mantenere inviluppo costante e transizioni ridotte"
                },
                {
                    question: "6. Qual è il vantaggio principale della CPM nei sistemi wireless?",
                    options: ["Consumo di potenza più elevato", "Inviluppo costante con fase continua", "Efficienza spettrale ridotta", "Transizioni di fase discontinue"],
                    answer: "Inviluppo costante con fase continua"
                },
                {
                    question: "7. In che modo la modulazione MSK garantisce l’ortogonalità?",
                    options: ["Utilizzando una separazione di frequenza minima", "Aumentando la potenza del segnale", "Riducendo la larghezza di banda", "Utilizzando transizioni di fase non continue"],
                    answer: "Utilizzando una separazione di frequenza minima"
                },
                {
                    question: "8. Quale di queste modulazioni utilizza due costellazioni sfalsate di π/4?",
                    options: ["QPSK", "OQPSK", "π/4 QPSK", "MSK"],
                    answer: "π/4 QPSK"
                },
                {
                    question: "9. Quale delle seguenti modulazioni è una variante di FSK con fase continua?",
                    options: ["QPSK", "MSK", "π/4 QPSK", "OQPSK"],
                    answer: "MSK"
                },
                {
                    question: "10. Come si comportano i lobi laterali dello spettro di potenza di MSK rispetto a quelli di QPSK?",
                    options: ["Sono più ampi", "Decrescono più lentamente", "Decrescono più rapidamente", "Sono identici"],
                    answer: "Decrescono più rapidamente"
                }
            ],
            unit4: [
                {
                    question: "1. Qual è una delle applicazioni principali dell’OFDM?",
                    options: ["Radio AM", "ADSL", "Bluetooth", "Wi-Fi"],
                    answer: "ADSL"
                },
                {
                    question: "2. Cosa indica il PAPR in un sistema OFDM?",
                    options: ["La potenza media del segnale", "La differenza tra le portanti", "Il rapporto tra la potenza di picco e quella media", "Il livello di interferenza del canale"],
                    answer: "Il rapporto tra la potenza di picco e quella media"
                },
                {
                    question: "3. Qual è lo scopo del tempo di guardia (Tg) in OFDM?",
                    options: ["Aumentare la velocità di trasmissione", "Ridurre il rumore di fase", "Evitare l’interferenza tra simboli", "Migliorare l’accuratezza del segnale ricevuto"],
                    answer: "Evitare l’interferenza tra simboli"
                },
                {
                    question: "4. Quale modulazione viene comunemente usata sulle portanti di un sistema OFDM?",
                    options: ["AM", "FM", "QAM", "PCM"],
                    answer: "QAM"
                },
                {
                    question: "5. Come viene gestito l’aumento del PAPR nei sistemi OFDM?",
                    options: ["Riducendo il tempo di guardia", "Usando clipping e filtraggio", "Incrementando la frequenza", "Aumentando il numero di portanti"],
                    answer: "Usando clipping e filtraggio"
                },
                {
                    question: "6. Quale parametro è stimato usando segnali pilota in un sistema OFDM?",
                    options: ["La larghezza di banda", "La potenza di picco", "L’offset di frequenza", "La velocità di trasmissione"],
                    answer: "L’offset di frequenza"
                },
                {
                    question: "7. Cosa si utilizza per evitare l’interferenza intercanale (ICI) in OFDM?",
                    options: ["Amplificatori non lineari", "Segnali pilota e tecniche di compensazione", "Riduzione della larghezza di banda", "Modulatori in fase e quadratura"],
                    answer: "Segnali pilota e tecniche di compensazione"
                },
                {
                    question: "8. Qual è uno dei vantaggi principali dell’OFDM nei canali radio?",
                    options: ["Bassa efficienza spettrale", "Trasmissione analogica stabile", "Miglioramento delle prestazioni in termini di bit-rate", "Uso ridotto di modulazioni digitali"],
                    answer: "Miglioramento delle prestazioni in termini di bit-rate"
                },
                {
                    question: "9. Qual è la funzione dell’equalizzatore in un sistema OFDM?",
                    options: ["Amplificare il segnale", "Compensare le attenuazioni di frequenza del canale", "Ridurre il rumore di fase", "Stabilizzare la modulazione QAM"],
                    answer: "Compensare le attenuazioni di frequenza del canale"
                },
                {
                    question: "10. Che tipo di interferenza si verifica a causa della desincronizzazione temporale in OFDM?",
                    options: ["Interferenza di rumore", "Interferenza tra canali", "Interferenza tra simboli (ISI)", "Interferenza armonica"],
                    answer: "Interferenza tra simboli (ISI)"
                }
            ]
        };


        let currentQuestions = []; // Store the currently displayed questions

        // Function to load a specific unit's questions
        function loadUnit(unitNumber) {
            const unitKey = `unit${unitNumber}`;
            currentQuestions = questions[unitKey]; // Update current questions
            displayQuestions(currentQuestions);
        }

        // Function to load random questions from all units for the final unit
        function loadFinalUnit() {
            const allQuestions = Object.values(questions).flat();
            currentQuestions = getRandomQuestions(allQuestions, 5); // Update current questions
            displayQuestions(currentQuestions);
        }

        // Function to display questions in the quiz form
        function displayQuestions(questions) {
            const quizForm = document.getElementById("quiz-form");
            quizForm.innerHTML = ""; // Clear previous questions

            questions.forEach((q, index) => {
                const questionDiv = document.createElement("div");
                questionDiv.className = "question";
                questionDiv.innerHTML = `
                    <p>${q.question}</p>
                    <div class="options">
                        ${q.options.map((option, i) => `
                            <label><input type="radio" name="q${index}" value="${option}"> ${option}</label><br>
                        `).join("")}
                    </div>
                `;
                quizForm.appendChild(questionDiv);
            });

            document.getElementById("quiz-container").classList.remove("hidden");
            document.getElementById("score-display").classList.add("hidden"); // Hide score display initially
        }

        // Function to get random questions
        function getRandomQuestions(allQuestions, count) {
            const shuffled = allQuestions.sort(() => 0.5 - Math.random());
            return shuffled.slice(0, count);
        }

        // Function to check answers
        function checkAnswers() {
            let score = 0;

            currentQuestions.forEach((q, index) => {
                const selected = document.querySelector(`input[name="q${index}"]:checked`);
                const options = document.querySelectorAll(`input[name="q${index}"]`);

                options.forEach(option => {
                    const label = option.parentElement;
                    if (option.value === q.answer) {
                        label.classList.add("correct"); // Highlight correct answer in green
                    } else if (option.checked && option.value !== q.answer) {
                        label.classList.add("incorrect"); // Highlight wrong answer in red
                    }
                });

                if (selected && selected.value === q.answer) {
                    score++;
                }
            });

            // Display the score
            const scoreDisplay = document.getElementById("score-display");
            scoreDisplay.textContent = `You scored ${score} out of ${currentQuestions.length}`;
            scoreDisplay.classList.remove("hidden");
        }
    </script>
</body>
</html>
